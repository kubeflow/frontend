# kubeflow/frontend

Shared libraries and components used by Kubeflow frontend projects.

## Modules

* `common` - miscellaneous shared components and atoms.
* `mlmd` - components for visualizing data from an `ml-metadata` store. For more information see the
 [kubeflow/metadata](https://github.com/kubeflow/metadata) repository. 

## Building

Build artifacts are included in the repo and stored at `build/lib`. To manually generate new build
artifacts, run:

```bash
npm run build
```

During development it may be convenient to run the build script in watch mode to
automatically recompile when source files are changed.

```bash
npm run build:watch
```

The package also supports 2 additional build modes:

* `build:protos` - for compiling Protocol Buffer definitions
* `build:all` - for regenerating all build artifacts

### Generated Protocol Buffers

This project contains a mix of natively defined classes and classes generated by the Protocol
Buffer Compiler from definitions in the `proto/` directory. Copies of the generated classes  are
included in the `src/` directory to allow the build process to succeed without a dependency on
the Protocol Buffer compiler, `protoc`, being in the system PATH. 

If a file in `proto/` is modified or you need to manually re-generate the protos, you'll need to
add `protoc` to your system's PATH and generate new compiled protos by running:

```bash
npm run build:protos
```

See [https://github.com/protocolbuffers/protobuf/releases](https://github.com/protocolbuffers/protobuf/releases)
for a pre-built binary of `protoc`.

See `scripts/gen_grpc_web_protos.js` for the script used by the `build:protos` script.


Protocol Buffers for the `mlmd` module are taken from an earlier commit hash of the `ml_metadata` 
proto package from
[google/ml-metadata](https://github.com/google/ml-metadata/tree/master/ml_metadata/proto).

## Testing

Run:

```bash
npm test
```
